<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Movies for {{ user.name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='user_movies.css') }}">
</head>
<body>

<header class="navbar">
    <div class="navbar-title">üé¨ MovieApp</div>
</header>
<main class="container">
    <a class="back-link" href="{{ url_for('list_users') }}">‚Üê Back to Users</a>

    <h1>Movies for {{ user.name }}</h1>

    <form class="add-movie-form"
          method="POST"
          action="{{ url_for('add_user_movie', user_id=user.id) }}">
        <input type="text" name="title" placeholder="Enter movie title" required>
        <button type="submit">Add Movie</button>
    </form>

    <div class="movie-grid">
        {% for movie in movies %}
        <div class="movie-card">

            <img src="{{ movie.poster_url }}"
                 alt="{{ movie.name }}"
                 class="movie-poster">

            <div class="movie-content">
                <form method="POST"
                        action="{{ url_for('update_movie_title', movie_id=movie.id) }}"
                        class="inline-edit-form">

                    <input type="text"
                        name="title" value="{{ movie.name }}" class="title-input">

                    <button type="submit" class="btn update">Update</button>
                    </form>

                <p><strong>Year:</strong> {{ movie.year }}</p>
                <p><strong>Director:</strong> {{ movie.director }}</p>

                <div class="movie-actions">
                    <form method="POST"
                          action="{{ url_for('delete_user_movie', user_id=user.id, movie_id=movie.id) }}">
                        <button class="btn delete" type="submit">Delete</button>
                    </form>
                </div>
            </div>

        </div>
        {% endfor %}
    </div>

</main>
</body>
</html>